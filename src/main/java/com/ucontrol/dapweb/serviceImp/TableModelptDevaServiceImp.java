package com.ucontrol.dapweb.serviceImp;import com.ucontrol.dapweb.dao.TableModelptDevaMapper;import com.ucontrol.dapweb.entity.TableModelptDeva;import com.ucontrol.dapweb.entity.appmodels.*;import com.ucontrol.dapweb.service.TableModelptDevaService;import org.springframework.stereotype.Service;import javax.annotation.Resource;import java.util.ArrayList;@Service("TableModelptService")public class TableModelptDevaServiceImp implements TableModelptDevaService {    @Resource    private TableModelptDevaMapper modelptDevaDao;    @Override    public int importModel(Model model) {        int res = 0;        for(Unit unit : model.getUnitList()){            for(PlantSystem sys : unit.getSystemList()){                ArrayList<Item> sysItems = sys.getItemList();                for(Item sysItem : sysItems){                    int sys_pt_id = sysItem.getPt_id();                    int sys_model_level = 2;                    int sys_model_index = sys.getIndex();                    TableModelptDeva sys_record = new TableModelptDeva();                    setRecord(sys_pt_id, sys_model_level, sys_model_index, sys_record);                    res = modelptDevaDao.insert(sys_record);                }                for(Device dev : sys.getDeviceList()){                    ArrayList<Item> devItems = dev.getItemList();                    for(Item devItem : devItems){                        int dev_pt_id = devItem.getPt_id();                        int dev_model_level = 3;                        int dev_model_index = sys.getIndex();                        TableModelptDeva dev_record = new TableModelptDeva();                        setRecord(dev_pt_id, dev_model_level, dev_model_index, dev_record);                        res = modelptDevaDao.insert(dev_record);                    }                }            }        }        return res;    }    @Override    public ArrayList<TableModelptDeva> selectByLevelAndIndex(int model_level, int model_index) {        return modelptDevaDao.selectByLevelAndIndex(model_level, model_index);    }    public void setRecord(int pt_id, int model_level, int model_index, TableModelptDeva modelDeva){        modelDeva.setPtId(pt_id);        modelDeva.setModelLevel(model_level);        modelDeva.setModelIndex(model_index);    }}